<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="/images/favicon.ico" rel="icon" type="image/ico" />

    <title>SplashKit - Articles - Guides - Tags - Starter - Reading Text</title>

    <link href="/stylesheets/main-19a89ca6.css" rel="stylesheet" />
  </head>
  <body class="articles articles_guides articles_guides_tags articles_guides_tags_starter articles_guides_tags_starter_reading-text articles_guides_tags_starter_reading-text_index">
    <nav class="navbar navbar-dark sk-navbar">
  <button class="navbar-toggler collapsed hidden-md-up" type="button" data-toggle="collapse" data-target="#global-navbar-content" aria-controls="global-navbar-content" aria-expanded="false" aria-label="Toggle navigation">
    <i class="fa sk-navbar-toggler-icon"></i>
  </button>
  <div class="collapse container navbar-toggleable-sm" id="global-navbar-content">
    <a class="navbar-brand" href="/">SplashKit</a>
    <ul class="nav navbar-nav">
      <li class="nav-item dropdown">
        <a class="nav-link " id="api-menu-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Documentation</a>
        <div class="dropdown-menu sk-api-menu" aria-labelledby="api-menu-link">
            <a class="dropdown-item" href="/api/animations">Animations</a>
            <a class="dropdown-item" href="/api/audio">Audio</a>
            <a class="dropdown-item" href="/api/camera">Camera</a>
            <a class="dropdown-item" href="/api/color">Color</a>
            <a class="dropdown-item" href="/api/database">Database</a>
            <a class="dropdown-item" href="/api/geometry">Geometry</a>
            <a class="dropdown-item" href="/api/graphics">Graphics</a>
            <a class="dropdown-item" href="/api/input">Input</a>
            <a class="dropdown-item" href="/api/json">JSON</a>
            <a class="dropdown-item" href="/api/networking">Networking</a>
            <a class="dropdown-item" href="/api/physics">Physics</a>
            <a class="dropdown-item" href="/api/resource-bundles">Resource Bundles</a>
            <a class="dropdown-item" href="/api/resources">Resources</a>
            <a class="dropdown-item" href="/api/social">Social</a>
            <a class="dropdown-item" href="/api/sprites">Sprites</a>
            <a class="dropdown-item" href="/api/terminal">Terminal</a>
            <a class="dropdown-item" href="/api/timers">Timers</a>
            <a class="dropdown-item" href="/api/types">Types</a>
            <a class="dropdown-item" href="/api/utilities">Utilities</a>
            <a class="dropdown-item" href="/api/windows">Windows</a>
        </div>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/articles">Articles &amp; Guides</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="http://github.com/splashkit">Contribute</a>
      </li>
    </ul>
    <form class="form-inline pull-sm-right">
      <div class="input-group" id="sk-global-search">
        <span class="input-group-addon">
          <i class="fa fa-search"></i>
        </span>
        <input class="search form-control" required type="text" placeholder="Search API...">
        <div class="sk-search-results-container">
          <ul class="sk-search-results list"></ul>
          <div class="sk-search-noâ€“results">
            <i class="fa fa-question-circle fa-2x"></i>
            <p>No results found</p>
          </div>
        </div>
      </div>
    </form>
  </div>
</nav>

    <main id="content">
        <div class="container">
    <div class="row">
        <h1>Reading Text</h1>
        <aside class="sk-sidebar">
    <h3>All Guides</h3>
    <nav role="navigation">
      <ul class="nav sk-article-nav-root">
          <li class="nav-item">
<a href="/articles/guides/tags/networking" class="nav-link ">              Networking
</a>          </li>
          <li class="nav-item">
<a href="/articles/guides/tags/starter" class="nav-link ">              Starter
</a>          </li>
          <li class="nav-item">
<a href="/articles/guides/tags/camera" class="nav-link ">              Camera
</a>          </li>
          <li class="nav-item">
<a href="/articles/guides/tags/audio" class="nav-link ">              Audio
</a>          </li>
          <li class="nav-item">
<a href="/articles/guides/tags/animations" class="nav-link ">              Animations
</a>          </li>
          <li class="nav-item">
<a href="/articles/guides/tags/json" class="nav-link ">              JSON
</a>          </li>
          <li class="nav-item">
<a href="/articles/guides/tags/utilities" class="nav-link ">              Utilities
</a>          </li>
          <li class="nav-item">
<a href="/articles/guides/tags/databases" class="nav-link ">              Databases
</a>          </li>
      </ul>
    </nav>
  </aside>
  <article class="sk-content">
      <p class="lead">
        Written by
            Andrew Cain and others
        on Oct  2 2018
      </p>
    <p>This article shows you how to get started reading text from the user. This includes reading text from the command line but also how to read text from within a graphical application.</p>

<h3>Reading Text from the Command Line</h3>

<p>Reading text input from the user is straight forward for command line applications. In this context, <a href="/api/terminal/#read-line">Read Line</a> gives you the ability to read a line of text entered at the Terminal. This is a <strong>blocking</strong> function call, meaning it waits for the user to input the line before it returns. For command line applications this is fine, you want it to wait for the input.</p>

<p>The following code demonstrates the use of <a href="/api/terminal/#read-line">Read Line</a> in order to read in and display the user&rsquo;s name.</p>

<div class="sk-snippet">
  <ul class="nav nav-tabs" role="tablist">
      <li class="nav-item">
        <a href="#cpp-step1" aria-controls="cpp-step1" role="tab" data-toggle="tab" class="nav-link active">
          C++
        </a>
      </li>
      <li class="nav-item">
        <a href="#cs-step1" aria-controls="cs-step1" role="tab" data-toggle="tab" class="nav-link ">
          C#
        </a>
      </li>
  </ul>
  <div class="tab-content">
      <div role="tabpanel" id="cpp-step1" class="tab-pane fade in active" data-clipboard data-clipboard-target="#cpp-step1 pre">
        <pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="cp">#include "splashkit.h"
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">string</span> <span class="n">name</span><span class="p">;</span>    <span class="c1">// declare a variable to store the name
</span>    <span class="n">string</span> <span class="n">quest</span><span class="p">;</span>   <span class="c1">// and another to store a quest
</span>
    <span class="n">write</span><span class="p">(</span><span class="s">"What is your name: "</span><span class="p">);</span>   <span class="c1">// prompt the user for input
</span>    <span class="n">name</span> <span class="o">=</span> <span class="n">read_line</span><span class="p">();</span>             <span class="c1">// read user input
</span>
    <span class="c1">// Read in another value
</span>    <span class="n">write</span><span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="s">" what is your quest?"</span><span class="p">);</span>
    <span class="n">quest</span> <span class="o">=</span> <span class="n">read_line</span><span class="p">();</span>

    <span class="n">write_line</span><span class="p">(</span><span class="n">quest</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></pre></td></tr></tbody></table>
</code></pre>
      </div>
      <div role="tabpanel" id="cs-step1" class="tab-pane fade " data-clipboard data-clipboard-target="#cs-step1 pre">
        <pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="k">using</span> <span class="nn">SplashKitSDK</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Program</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">name</span><span class="p">;</span>    <span class="c1">// declare a variable to store the name</span>
        <span class="kt">string</span> <span class="n">quest</span><span class="p">;</span>   <span class="c1">// and another to store a quest</span>

        <span class="n">SplashKit</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="s">"What is your name: "</span><span class="p">);</span>  <span class="c1">// prompt the user for input</span>
        <span class="n">name</span> <span class="p">=</span> <span class="n">SplashKit</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>             <span class="c1">// read user input</span>

        <span class="c1">// Read in another value</span>
        <span class="n">SplashKit</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="n">name</span> <span class="p">+</span> <span class="s">" what is your quest?"</span><span class="p">);</span>
        <span class="n">quest</span> <span class="p">=</span> <span class="n">SplashKit</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">();</span>

        <span class="n">SplashKit</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">quest</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span></pre></td></tr></tbody></table>
</code></pre>
      </div>
  </div>
</div>

<h3>Reading Text in Graphical Applications</h3>

<p>Reading input from users in graphical applications is more complex, as blocking operations will cause the entire graphical interface to freeze. With a graphical application you need to keep redrawing, processing events, updating elements, and refreshing the screen. If you stop doing this to wait for user input, then any dynamic visuals will stop!</p>

<p>Let&rsquo;s see how to read input from the user using some example code. We can then talk through the different parts to understand how they come together to give you a dynamic application with user input.</p>

<div class="sk-snippet">
  <ul class="nav nav-tabs" role="tablist">
      <li class="nav-item">
        <a href="#cpp-step2" aria-controls="cpp-step2" role="tab" data-toggle="tab" class="nav-link active">
          C++
        </a>
      </li>
  </ul>
  <div class="tab-content">
      <div role="tabpanel" id="cpp-step2" class="tab-pane fade in active" data-clipboard data-clipboard-target="#cpp-step2 pre">
        <pre class="codehilite"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
</pre></td><td class="rouge-code"><pre><span class="cp">#include "splashkit.h"
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Lets read into this string...
</span>    <span class="n">string</span> <span class="n">name</span> <span class="o">=</span> <span class="s">"unknown"</span><span class="p">;</span>

    <span class="c1">// Open a window to show the user...
</span>    <span class="n">open_window</span><span class="p">(</span><span class="s">"Reading Input."</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">600</span><span class="p">);</span>

    <span class="c1">// Load a font for text rendering
</span>    <span class="n">load_font</span><span class="p">(</span><span class="s">"input"</span><span class="p">,</span> <span class="s">"arial.ttf"</span><span class="p">);</span>

    <span class="c1">// Define area where text shoud appear
</span>    <span class="n">rectangle</span> <span class="n">rect</span> <span class="o">=</span> <span class="n">rectangle_from</span><span class="p">(</span> <span class="mf">230.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">200.0</span><span class="p">,</span> <span class="mf">30.0</span> <span class="p">);</span>

    <span class="c1">// Start reading text in this area
</span>    <span class="c1">// This could be in the loop, if we had a button or something to click to trigger this
</span>    <span class="n">start_reading_text</span><span class="p">(</span><span class="n">rect</span><span class="p">);</span>

    <span class="c1">// Here is our game loop
</span>    <span class="k">do</span>
    <span class="p">{</span>
        <span class="c1">// Listen for input... this will update the text read
</span>        <span class="n">process_events</span><span class="p">();</span>

        <span class="c1">// Looks like we finished reading text...
</span>        <span class="k">if</span> <span class="p">(</span> <span class="n">not</span> <span class="n">reading_text</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="c1">// Was input cancelled?
</span>            <span class="k">if</span> <span class="p">(</span> <span class="n">text_entry_cancelled</span><span class="p">()</span> <span class="p">)</span>
            <span class="p">{</span>
                <span class="n">name</span> <span class="o">=</span> <span class="s">"unknown"</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="c1">// Get the name from the text input
</span>                <span class="n">name</span> <span class="o">=</span> <span class="n">text_input</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1">// Draw the screen...
</span>        <span class="n">clear_screen</span><span class="p">(</span><span class="n">COLOR_WHITE</span><span class="p">);</span>

        <span class="n">draw_rectangle</span><span class="p">(</span><span class="n">COLOR_BLACK</span><span class="p">,</span> <span class="n">rect</span><span class="p">);</span>
        
        <span class="c1">// If we are reading text... then show what it is
</span>        <span class="k">if</span> <span class="p">(</span> <span class="n">reading_text</span><span class="p">()</span> <span class="p">)</span>
        <span class="p">{</span>
            <span class="n">draw_collected_text</span><span class="p">(</span><span class="n">COLOR_BLACK</span><span class="p">,</span> <span class="n">font_named</span><span class="p">(</span><span class="s">"input"</span><span class="p">),</span> <span class="mi">18</span><span class="p">,</span> <span class="n">option_defaults</span><span class="p">());</span>
        <span class="p">}</span>

        <span class="c1">// Draw what we have in the name
</span>        <span class="n">draw_text</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">COLOR_BLACK</span><span class="p">,</span> <span class="n">font_named</span><span class="p">(</span><span class="s">"input"</span><span class="p">),</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

        <span class="c1">// Show it..
</span>        <span class="n">refresh_screen</span><span class="p">(</span><span class="mi">60</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span> <span class="o">!</span> <span class="n">quit_requested</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span></pre></td></tr></tbody></table>
</code></pre>
      </div>
  </div>
</div>

<p>In the above program we want to read in the user&rsquo;s name and store it in the <code>name</code> variable. To get started with this we need to open a window, and load a font to draw the text and input. There is also the standard event loop that is repeating the basic actions of checking user input and drawing the screen until the program is closed.</p>

<p>The logic for reading input starts with the call to <a href="/api/input/#group-start-reading-text">Start Reading Text</a>. This tells SplashKit that you want it to collect text input by the user, and that you want it drawn into the passed in <a href="/api/types/#rectangle">Rectangle</a> (in this case <code>rect</code>). SplashKit is now listening for input from, and collecting this text for you when you call <a href="/api/input/#process-events">Process Events</a>. </p>

<p>SplashKit will continue reading text from the user until they hit the Escape or Enter key. You can check if text still begin reading by calling the <a href="/api/input/#group-reading-text">Reading Text</a> function. In this example we use this to update the name. You can also end text input yourself using the <a href="/api/input/#group-end-reading-text">End Reading Text</a> function.</p>

<p>When the SplashKit is no longer reading text you can use <a href="/api/input/#group-text-entry-cancelled">Text Entry Cancelled</a> to check if the user cancelled (by hitting Escape) the input. To read the actual value entered you call <a href="/api/input/#group-text-input">Text Input</a>. This will return the value entered by the user. If they did cancel the input then this will be an empty string.</p>

<p>The key with graphical input will be to keep updating the data associated with the graphical elements. This will keep the screen updating as you collect the input from the user. For this you need to <a href="/api/input/#group-start-reading-text">Start Reading Text</a>, then at some point collec the <a href="/api/input/#group-text-input">Text Input</a> and <a href="/api/input/#group-end-reading-text">End Reading Text</a>.</p>

  </article>

    </div>
  </div>

    </main>
    <footer class="sk-footer">
  <div class="container">
    <ul class="sk-footer-links">
        <li>
          <a href="http://github.com/splashkit" target="_blank"> GitHub </a>
        </li>
        <li>
          <a href="http://facebook.com/splashkit" target="_blank"> Facebook </a>
        </li>
        <li>
          <a href="http://twitter.com/splashkit" target="_blank"> Twitter </a>
        </li>
    </ul>
      <p>
        SplashKit is an open source project maintained by the <a href="https://github.com/orgs/splashkit/people">core team</a> with the help of all <a href="http://github.com/splashkit/splashkit/graphs/contributors">our contributors</a>.
      </p>
      <p>
        Except as otherwise noted, SplashKit is licensed under <a href="https://www.gnu.org/licenses/gpl-3.0.en.html#content">GPL</a>.
      </p>
  </div>
</footer>

    <script src="/javascripts/main-5bcd519a.js"></script>
  </body>
</html>
